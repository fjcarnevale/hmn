<!-- $Id: example.html,v 1.4 2006/03/27 02:44:36 pat Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<meta name="keywords" content="home, network, measurements" />
<title> How's My Network </title>	

<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery-json.js"></script>
<script type="text/javascript" src="js/tabber.js"></script>
<script type="text/javascript" src="js/results.js"></script>
<script type="text/javascript" src="js/testing.js"></script>
<script type="text/javascript" src="js/handleData.js"></script>
<script type="text/javascript" src="js/jsFunctions.js"></script>
<script type="text/javascript" src="js/display_functions.js"></script>
<script type="text/javascript" src="js/highcharts.js"></script>
<script type="text/javascript" src="js/objects.json"></script>

		
<link rel="stylesheet" href="css/example.css" TYPE="text/css" MEDIA="screen">
<link rel="stylesheet" href="css/styles.css" TYPE="text/css">


<script type="text/javascript">

/*
Retrieve the object list file
*/
jQuery.getJSON("http://users.wpi.edu/~fcarnevale/hmn/js/objects.json", function(data){
objectData = data;
});

/* Optional: Temporarily hide the "tabber" class so it does not "flash"
   on the page as plain HTML. After tabber runs, the class is changed
   to "tabberlive" and it will appear. */

document.write('<style type="text/css">.tabber{display:none;}<\/style>');

		var network_wait = false; // Variable used so that we do not download two files at once (unless we are doing parallel download)
		var web_file_root = "./files/";

		// Code from https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/filter
		// Function used for filtering numbers from array (exclude nulls)
		if (!Array.prototype.filter)
		{
		  Array.prototype.filter = function(fun)
		  {
			"use strict";

			if (this === void 0 || this === null)
			  throw new TypeError();

			var t = Object(this);
			var len = t.length >>> 0;
			if (typeof fun !== "function")
			  throw new TypeError();

			var res = [];
			var thisp = arguments[1];
			for (var i = 0; i < len; i++)
			{
			  if (i in t)
			  {
				var val = t[i]; // in case fun mutates this
				if (fun.call(thisp, val, i, t))
				  res.push(val);
			  }
			}

			return res;
		  };
		}
		
		// Text to load in each div of class footer (this text goes on every page so we only change it here)
		$(window).load(function() { 		
			$(".footer").each(
				function(){
					this.innerHTML = "<hr />How's My Network | Worcester Polytechnic Institute | <a href='mailto: hmn@cs.wpi.edu'>  hmn@cs.wpi.edu </a>"
									+ "<br /> <br />This material is based upon work supported by the National Science Foundation under Grant No. 0959441."
									+ " Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) "
									+ "and do not necessarily reflect the views of the National Science Foundation.";
				}
			);					
		});	
		   
function select_all_items(item_prefix){
	var news_items = document.getElementsByName(item_prefix+'_item');
	var selected = document.getElementsByName(item_prefix+'_title')[0].checked;
	for(var i=0;i<news_items.length;i++){
		news_items[i].checked = selected;
	}

}
</script>
<style type="text/css">
		.popBoxClass {
			position: absolute;
			z-index: 2;
			background: #cccccc;
			width: 100% - 20;
			padding: 0.3em;
			border: 1px solid gray;
		}
		
</style>
</head>

<body>
<div align=center>
<img src='logo.png'></img>
</div>
<div class="tabber">


	 <!-- 'Home' Tab -->
     <div class="tabbertab">
	  <h2>Home</h2>
	  <div class="entire_page">
			<tr> 
				<td>
					<div align='center'>
						<h4> Home </h4>
					</div>
					<hr />
					<p>
						How's My Network (HMN) provides home users information on their
						network performance.  Unlike many other performance platforms, HMN
						runs entirely from within a Web browser and requires no additional
						software installation.  Rather than just providing low-level
						performance measurements such as throughput or ping time, HMN provides
						application-specific performance measurements in an
						easy-to-understand, five-star rating. HMN presents a list of popular
						online activities from which users can select activities of interest.
					</p>
					<p> 
						All data collected is kept securely and confidentially on our servers.
						After running the tests, users can provide
						feedback on their network or our site.  Participation in the survey
						is voluntary and not required by the user to receive information from the tests.
					</p>
					<p>
						<ul>
							<li>Option 1: Run several tests on websites of interest to you.</li>
							<li>Option 2: Play a game while your network is tested in the background.</li>
							<li>Option 3: Watch a video while your network is tested in the background.</li>
						</ul>
					</p>
					<div align='center'>
						<p>
							<button onclick="change_tab('Tests'); scroll(0, 0);" > Run Tests </button>
						</p>
						<p>
							<button onclick="change_tab('Games'); scroll(0, 0);" > Play Games </button>
						</p>
						<p>
							<button onclick="change_tab('Videos'); scroll(0, 0);" > Watch Videos </button>
						</p>
					</div>			
				</td>
			</tr>
		</div>
	  </p>
     </div>
	 <!-- 'Tests' Tab -->
     <div class="tabbertab">
	  <h2>Tests</h2>
	  <p>
		<div style='display:none;visibility:hidden'> 
			<img src='star.gif' />
			<img src='star_grey.gif' />
		</div>
		<div class="entire_page">
			<div id="hiddenframe" style='display:none;visibility:hidden'><iframe src="http://www.google.com" id="cgi_script" style="height: 0px;"></iframe></div>
			<div style='display:none;visibility:hidden'>
			<iframe id="iframe" onload="log(testType,object_load_start2,null, 1, link, object_size,'main');"></iframe>
			<iframe id="iframe_0" onload="log(testType,object_load_start2,null, 1, link, object_size, 0);"></iframe>
			<iframe id="iframe_1" onload="log(testType,object_load_start2,null, 1, link, object_size, 1);"></iframe>
			<iframe id="iframe_2" onload="log(testType,object_load_start2,null, 1, link, object_size, 2);"></iframe>
			<iframe id="iframe_3" onload="log(testType,object_load_start2,null, 1, link, object_size, 3);"></iframe>
			<iframe id="iframe_4" onload="log(testType,object_load_start2,null, 1, link, object_size, 4);"></iframe>
			<iframe id="iframe_5" onload="log(testType,object_load_start2,null, 1, link, object_size, 5);"></iframe>
			<iframe id="iframe_6" onload="log(testType,object_load_start2,null, 1, link, object_size, 6);"></iframe>
			</div>
				

			<div style="display: none" id="image_container"></div>
			<div id="results" style="display: none"></div>


	<script type="text/javascript">
	
	// Function used for extracting browser data from user agent
	var BrowserDetect = {
		init: function () {
			this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
			this.version = this.searchVersion(navigator.userAgent)
				|| this.searchVersion(navigator.appVersion)
				|| "an unknown version";
			this.OS = this.searchString(this.dataOS) || "an unknown OS";
		},
		searchString: function (data) {
			for (var i=0;i<data.length;i++)	{
				var dataString = data[i].string;
				var dataProp = data[i].prop;
				this.versionSearchString = data[i].versionSearch || data[i].identity;
				if (dataString) {
					if (dataString.indexOf(data[i].subString) != -1)
						return data[i].identity;
				}
				else if (dataProp)
					return data[i].identity;
			}
		},
		searchVersion: function (dataString) {
			var index = dataString.indexOf(this.versionSearchString);
			if (index == -1) return;
			
			var substring1 = dataString.substring(index+this.versionSearchString.length+1);
			var substring2;
			index = 0;
			while ((substring1.charAt(index) in ['0','1','2','3','4','5','6','7','8','9']) || (substring1.charAt(index) == '.'))
				index++;
			substring2 = substring1.substring(0, index);
			
			if (index == -1)
				return substring1;
			return substring2;
		},
		dataBrowser: [
			{
				string: navigator.userAgent,
				subString: "Chrome",
				identity: "Chrome"
			},
			{ 	string: navigator.userAgent,
				subString: "OmniWeb",
				versionSearch: "OmniWeb/",
				identity: "OmniWeb"
			},
			{
				string: navigator.vendor,
				subString: "Apple",
				identity: "Safari",
				versionSearch: "Version"
			},
			{
				prop: window.opera,
				identity: "Opera"
			},
			{
				string: navigator.vendor,
				subString: "iCab",
				identity: "iCab"
			},
			{
				string: navigator.vendor,
				subString: "KDE",
				identity: "Konqueror"
			},
			{
				string: navigator.userAgent,
				subString: "Firefox",
				identity: "Firefox"
			},
			{
				string: navigator.vendor,
				subString: "Camino",
				identity: "Camino"
			},
			{		// for newer Netscapes (6+)
				string: navigator.userAgent,
				subString: "Netscape",
				identity: "Netscape"
			},
			{
				string: navigator.userAgent,
				subString: "MSIE",
				identity: "Explorer",
				versionSearch: "MSIE"
			},
			{
				string: navigator.userAgent,
				subString: "Gecko",
				identity: "Mozilla",
				versionSearch: "rv"
			},
			{ 		// for older Netscapes (4-)
				string: navigator.userAgent,
				subString: "Mozilla",
				identity: "Netscape",
				versionSearch: "Mozilla"
			}
		],
		dataOS : [
			{
				string: navigator.platform,
				subString: "Win",
				identity: "Windows"
			},
			{
				string: navigator.platform,
				subString: "Mac",
				identity: "Mac"
			},
			{
				   string: navigator.userAgent,
				   subString: "iPhone",
				   identity: "iPhone/iPod"
			},
			{
				string: navigator.platform,
				subString: "Linux",
				identity: "Linux"
			}
		]

	};
	BrowserDetect.init();
	var helper = {};
	helper.browser = BrowserDetect.browser;
	helper.version = BrowserDetect.version;
	helper.OS = BrowserDetect.OS;
	browser_data = JSON.stringify(helper);
	
	
	</script>
			<div>
				<div align='center'>
					<h4> Performance Tests </h4>
				</div>
				<hr />
				
				<div id="survey_1" style='background-color: #DADADA;'>												
					<table class='survey_table'>	
						<tr>
							<tr>
								<td colspan='2' style='font-weight: bold; text-align: center;'>
									Filling in your connection settings will let you compare your results to users similar to you:
								</td>								
							</tr>
							<td>
								What type of Internet connection do you have?
							</td>
							<td>
								<label> <input type="radio" name="connection_type" value="dial_up" /> Dial-up </label>
								<label> <input type="radio" name="connection_type" value="dsl" /> DSL </label>
								<label> <input type="radio" name="connection_type" value="cable" /> Cable </label>
								<label> <input type="radio" name="connection_type" value="fiber" /> Fiber </label>
								<label> <input type="radio" name="connection_type" value="business" /> Business </label>
								<label> <input type="radio" name="connection_type" value="other" /> Other </label>
								<label> <input type="radio" name="connection_type" value="dont_know" /> Don't know </label>
										<input type="radio" name="connection_type" value="not_selected" checked style="display:none"  />
							</td>
						</tr>
						<tr>
							<td>
								How are you accessing Internet?
							</td>
							<td>
								<label> <input type="radio" name="connection_access" value="wireless" /> Wireless </label>
								<label> <input type="radio" name="connection_access" value="wired" /> Wired	</label>
								<label> <input type="radio" name="connection_access" value="dont_know" /> Don't know </label>
										<input type="radio" name="connection_access" value="not_selected" checked  style="display:none" />
								
							</td>
						</tr>	
						<tr>
							<td>
								Where are you accessing Internet?
							</td>
							<td>
								<label> <input type="radio" name="connection_location" value="home" /> Home </label>
								<label> <input type="radio" name="connection_location" value="work" /> Work </label>	
								<label> <input type="radio" name="connection_location" value="school" /> School </label>
								<label> <input type="radio" name="connection_location" value="public" /> Public location </label>
								<label> <input type="radio" name="connection_location" value="other" /> Other </label>
								<label> <input type="radio" name="connection_location" value="dont_know" /> Don't know </label>
										<input type="radio" name="connection_location" value="not_selected" checked style="display:none"  />
							</td>
						</tr>	
					</table>
					<br />
				</div>
				<hr />
				<table id="test_page_table">			
				<tr>
					<td colspan=2>
						<h4> Please select applications and sites of interest to you: </h4>
					</td>	
				</tr>
				
				<tr>			
				<td class='half'>				
					<div id="news_sites"> 
						<input type="checkbox" name="news_title" value="news" onClick="select_all_items('news');toggle_div(this, 'news_sites_list');" />
						<b>News</b>
						<br />
						<div id="news_sites_list" style="display:none; visibility: hidden;">
							<label> 
								<input type="checkbox" name="news_item" value="cnn" onClick="show_estimate(this, 5);" id='cnn_checkbox' /> 
								CNN 
							</label> 
							<br />
							<!--
							<div class='inline'> 
								<span id="cnn_results"> </span>
								<span id="cnn_more_info_detailed"  ></span>
								<span id="cnn_history" class="history_span" ></span>
								<div> </div>
							</div>
							-->
							
										
							<label> 
								<input type="checkbox" name="news_item" value="la" onclick="show_estimate(this, 5);"  /> 
								 Los Angeles Times  
							</label>
							<br />
							<!--
							<div class='inline'>
								<span id="la_results"> </span>
								<span id="la_more_info_detailed"  ></span>
								<span id="la_history" class="history_span" ></span>
								<div> </div>
							</div>
							-->
							
							
							<label> 
								<input type="checkbox" name="news_item" value="msn" onclick="show_estimate(this, 5);"  /> 
								 MSNBC  
							</label>
							<div class='inline'>
								<span id="msn_results"> </span> 
								<span id="msn_more_info_detailed"  ></span>
								<span id="msn_history" class="history_span"  ></span>
								<div> </div>
							</div>		
							
							
							<label> 
								<input type="checkbox" name="news_item" value="ny" onclick="show_estimate(this, 5);"  /> 
								 New York Times  
							</label>
							<div class='inline'>
								<span id="ny_results"> </span>
								<span id="ny_more_info_detailed"  ></span>
								<span id="ny_history" class="history_span"  ></span>
								<div> </div>
							</div>						
							
							<label> 
								<input type="checkbox" name="news_item" value="wp" onclick="show_estimate(this, 5);"  /> 
								 Washington Post  
							</label>
							<div class='inline'>
								<span id="wp_results"> </span> 
								<span id="wp_more_info_detailed"  ></span>
								<span id="wp_history" class="history_span"  ></span>
								<div> </div>
							</div>
							
							
							<label> 
								<input type="checkbox" name="news_item" value="abc" onclick="show_estimate(this, 5);"  /> 
								 ABC News  
							</label>
							<div class='inline'>
								<span id="abc_results"> </span> 
								<span id="abc_more_info_detailed"  ></span>
								<span id="abc_history" class="history_span"  ></span>
								<div> </div>
							</div>						
							
							<label> 
								<input type="checkbox" name="news_item" value="ru" onclick="show_estimate(this, 5);"  /> 
								Reuters  
							</label>
							<div class='inline'>
								<span id="ru_results"> </span> 
								<span id="ru_more_info_detailed"  ></span>
								<span id="ru_history" class="history_span"  ></span>
								<div> </div>
							</div>						
							
							<label> 
								<input type="checkbox" name="news_item" value="bbc" onclick="show_estimate(this, 5);"  /> 
								BBC  
							</label>
							<div class='inline'>
								<span id="bbc_results"> </span>
								<span id="bbc_more_info_detailed"  ></span>
								<span id="bbc_history" class="history_span"  ></span>
								<div> </div>
							</div>
							
							<label> 
								<input type="checkbox" name="news_item" value="hp" onclick="show_estimate(this, 5);"  /> 
								Huffington Post  
							</label>
							<div class='inline'>
								<span id="hp_results"> </span> 
								<span id="hp_more_info_detailed"  ></span>
								<span id="hp_history" class="history_span"  ></span>
								<div> </div>
							</div>
							
							
							<label> 
								<input type="checkbox" name="news_item" value="ut" onclick="show_estimate(this, 5);"  /> 
								USA Today  
							</label>
							<div class='inline'>
								<span id="ut_results"> </span> 
								<span id="ut_more_info_detailed"  ></span>
								<span id="ut_history" class="history_span"  ></span>
								<div> </div>
							</div>
						</div>
						
					</div>
					
					<br />
					
					<div id="social_sites"> 
						<input type="checkbox" name="social_title" value="social" onClick="select_all_items('social');toggle_div(this, 'social_sites_list');" />
						<b>Social Networks</b>
						<br />
						<div id="social_sites_list" style="display:none; visibility: hidden;">
							<label> 
								<input type="checkbox" name="social_item" value="fb" onclick="show_estimate(this, 5);" id='fb_checkbox' /> 
								Facebook  
							</label>
							<div class='inline'>
								<span id="fb_results"> </span>
								<span id="fb_more_info_detailed" ></span>
								<span id="fb_history" class="history_span"  ></span>
								<div></div>
							</div>
							<label> 
								<input type="checkbox" name="social_item" value="tw" onclick="show_estimate(this, 5);" /> 
								Twitter  
							</label>
							<div class='inline'>
								<span id="tw_results"> </span>
								<span id="tw_more_info_detailed" ></span>
								<span id="tw_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="social_item" value="ms" onclick="show_estimate(this, 5);"  /> 
								MySpace  
							</label>
							<div class='inline'>
								<span id="ms_results"> </span> 
								<span id="ms_more_info_detailed" ></span>
								<span id="ms_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="social_item" value="fr" onclick="show_estimate(this, 5);"  /> 
								Friendster
							</label>
							<div class='inline'>
								<span id="fr_results"> </span>
								<span id="fr_more_info_detailed" ></span>
								<span id="fr_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="social_item" value="ld" onclick="show_estimate(this, 5);"  /> 
								LinkedIn  
							</label>
							<div class='inline'>
								<span id="ld_results"> </span> 
								<span id="ld_more_info_detailed" ></span>
								<span id="ld_history" class="history_span"  ></span>
								<div> </div>
							</div>
						</div>
					</div>
					
					<br />
					
					<div id="shopping_sites"> 
						<input type="checkbox" name="shopping_title" value="shopping" onClick="select_all_items('shopping');toggle_div(this, 'shopping_sites_list');" />
						<b>Shopping</b>
						<br />
						<div id="shopping_sites_list" style="display:none; visibility: hidden;">
							<label> 
								<input type="checkbox" name="shopping_item" value="eb" onclick="show_estimate(this, 5);" id='eb_checkbox'  /> 
								Ebay 
							</label> 
							<div class='inline'>
								<span id="eb_results"> </span>
								<span id="eb_more_info_detailed" ></span>
								<span id="eb_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label>
								<input type="checkbox" name="shopping_item" value="az" onclick="show_estimate(this, 5);"  /> 
								Amazon
							</label>
							<div class='inline'>
								<span id="az_results"> </span>
								<span id="az_more_info_detailed" ></span>
								<span id="az_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="shopping_item" value="br" onclick="show_estimate(this, 5);"  /> 
								Bizrate 
							</label> 
							<div class='inline'>
								<span id="br_results"> </span> 
								<span id="br_more_info_detailed" ></span>
								<span id="br_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="shopping_item" value="gt" onclick="show_estimate(this, 5);"  /> 
								Giftag 
							</label> 
							<div class='inline'>
								<span id="gt_results"> </span>
								<span id="gt_more_info_detailed" ></span>
								<span id="gt_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label> 
								<input type="checkbox" name="shopping_item" value="sb" onclick="show_estimate(this, 5);"  /> 
								 Smartbargains 
							</label> 
							<div class='inline'>
								<span id="sb_results"> </span> 
								<span id="sb_more_info_detailed" ></span>
								<span id="sb_history" class="history_span"  ></span>
								<div> </div>
							</div>
						</div>
					</div>
				</td>
				<td class='half'>				
					
					<br />
					
					<label> 
						<input type="checkbox" name="file_hosting_item" onclick="show_estimate(this, 15,'file_hosting_results');" value='file_hosting' />  
						<b>
							File Hosting Services (ex. Rapidshare, Hotfile, Depositfiles etc.) 
						</b>
					</label> 
					<br />
					<div class='inline'>
						<span id='file_hosting_results'> </span> 
						<div id='file_hosting_indicator' style='display:none;visibility:hidden'>
							<img src='indicator_medium.gif' />
						</div> 
						<span id="file_hosting_results_more_info_detailed"></span>  
						<span id="file_hosting_history" class="history_span"> </span>
						<div> </div>
					</div>
					<br />
					<input type="checkbox" name="game_title" value="games" onClick="select_all_items('game');toggle_div(this, 'game_sites_list');" />
					<b>Games</b>
					<br />
					<div id="game_sites_list" style="display:none; visibility: hidden;">
						<label><input type="checkbox" name="game_0" value="wow" onclick="toggle_div(this, 'game_0_locations');" /> 
						 World of Warcraft </label>
						
						<div id="game_0_locations" style="display:none; visibility: hidden;">
							<br /> 
							<label>
								<input type="checkbox" name="game_item" value="wow_us" onclick="show_estimate(this, 20,'game_results_wow_us');"  id='wow_us_checkbox'  /> 
								US  
							</label> 
							<div class='inline'>
								<span id='game_results_wow_us'> </span> 
								<span id='game_results_wow_us_more_info_detailed'> </span> 
								<span id="wow_us_history" class="history_span"  ></span>
								<div> </div>
							</div>						
							<label>
								<input type="checkbox" name="game_item" value="wow_australia" onclick="show_estimate(this, 20,'game_results_wow_australia');"  /> 
								Australia  
							</label> 
							<div class='inline'>
								<span id='game_results_wow_australia'> </span>  
								<span id='game_results_wow_australia_more_info_detailed'>  </span> 
								<span id="wow_australia_history" class="history_span"  ></span>
								<div> </div>
							</div>
							<label>
								<input type="checkbox" name="game_item" value="wow_europe" onclick="show_estimate(this, 20,'game_results_wow_europe');"  /> 
								Europe 
							</label>  
							<div class='inline'>
								<span id='game_results_wow_europe'> </span>  
								<span id='game_results_wow_europe_more_info_detailed'> </span> 
								<span id="wow_europe_history" class="history_span"  > </span>
								<div> </div>
							</div>						
							<label>
								<input type="checkbox" name="game_item" value="wow_china" onclick="show_estimate(this, 20,'game_results_wow_china');"  /> 
								China 
							</label>  
							<div class='inline'>
								<span id='game_results_wow_china'> </span>  
								<span id='game_results_wow_china_more_info_detailed'> </span> 
								<span id="wow_china_history" class="history_span"  > </span>
								<div> </div>
							</div>						
							<label>
								<input type="checkbox" name="game_item" value="wow_taiwan" onclick="show_estimate(this, 20,'game_results_wow_taiwan');"  /> 
								Taiwan 
							</label>  
							<div class='inline'>
								<span id='game_results_wow_taiwan'> </span>  
								<span id='game_results_wow_taiwan_more_info_detailed'>  </span> 
								<span id="wow_taiwan_history" class="history_span"  ></span>
								<div> </div>
							</div>						
							<label>
								<input type="checkbox" name="game_item" value="wow_korea" onclick="show_estimate(this, 20,'game_results_wow_korea');"  /> 
								Korea  
							</label> 
							<div class='inline'>
								<span id='game_results_wow_korea'> </span>  
								<span id='game_results_wow_korea_more_info_detailed'> </span> 
								<span id="wow_korea_history" class="history_span"  > </span>
								<div> </div>
							</div>
						</div>
						
						<br />  <label> <input type="checkbox" name="game_1" value="lol" onclick="toggle_div(this, 'game_1_locations');" /> 
						 League of Legends </label> 
									
						<div id="game_1_locations" style="display:none; visibility:hidden;">
							<br /> 
							<label>
								<input type="checkbox" name="game_item" value="lol_us"  onclick="show_estimate(this, 20,'game_results_lol_us');"  /> 
								US  
							</label> 
							<div class='inline'>
								<span id='game_results_lol_us'> </span> 
								<span id='game_results_lol_us_more_info_detailed'>  </span> 
								<span id="lol_us_history" class="history_span"  ></span>
								<div> </div>
							</div>	
							<label>
								<input type="checkbox" name="game_item" value="lol_europe" onclick="show_estimate(this, 20,'game_results_lol_europe');"  /> 
								Europe 
							</label>  
							<div class='inline'>
								<span id='game_results_lol_europe'> </span>  
								<span id='game_results_lol_europe_more_info_detailed'> </span> 
								<span id="lol_europe_history" class="history_span"  > </span>
								<div> </div>
							</div>
							<label>
								<input type="checkbox" name="game_item" value="lol_asia" onclick="show_estimate(this, 20,'game_results_lol_asia');"  /> 
								Asia  
							</label> 
							<div class='inline'>
								<span id='game_results_lol_asia'> </span>  
								<span id='game_results_lol_asia_more_info_detailed'> </span> 
								<span id="lol_asia_history" class="history_span"  > </span>
								<div> </div>
							</div>
						</div>
						
						<br /> 
						<label>
							<input type="checkbox" name="game_item" value="cod2"  onclick="show_estimate(this, 60,'game_results_cod2');" /> 
							Call of Duty 2  
						</label> 
						<div class='inline'>
							<span id='game_results_cod2'> </span> 
							<span id='game_results_cod2_more_info_detailed'> </span>  
							<span id="cod2_history" class="history_span"  > </span>
							<div> </div>
						</div>
						
						<label>
							<input type="checkbox" name="game_item" value="cod4" onclick="show_estimate(this, 60 ,'game_results_cod4');" /> 
							Call of Duty 4  
						</label> 
						<div class='inline'>
							<span id='game_results_cod4'> </span> 
							<span id='game_results_cod4_more_info_detailed'> </span>  
							<span id="cod4_history" class="history_span"  > </span>
							<div> </div>
						</div>
						<label>
							<input type="checkbox" name="game_item" value="tf2" onclick="show_estimate(this, 60,'game_results_tf2');" /> 
							Team Fortress 2  
						</label> 
						<div class='inline'>
							<span id='game_results_tf2'> </span> 
							<span id='game_results_tf2_more_info_detailed'> </span> 
							<span id="tf2_history" class="history_span"  > </span>
							<div> </div>
						</div>
					</div>
					<div id='video_conference'>
						<h4> Video Only Conference: </h4>
						
						<div id="voip_locations"> 
							
							<label> 
								<input type="checkbox" name="camera_item" value="0" onclick="show_estimate(this, 15,'camera_results_0');" id='voip_us_checkbox' /> 
								US East Coast 
							</label>
							<div class='inline'>
								<span id='camera_results_0'> </span> 
								<div id='camera_ind_0' style='display:none;visibility:hidden'><img src='indicator_medium.gif' /></div>
								<span id="camera_0_more_info_detailed" ></span> 
								<span id="camera_0_history" class="history_span"  ></span>
								<div> </div>
							</div>
								
							<label> 
								<input type="checkbox" name="camera_item" value="1" onclick="show_estimate(this, 15,'camera_results_1');" /> 
								US West Coast 
							</label>
							<div class='inline'>
								<span id='camera_results_1'></span> 
								<div id='camera_ind_1' style='display:none;visibility:hidden'><img src='indicator_medium.gif' /></div>
								<span id="camera_1_more_info_detailed" ></span>
								<span id="camera_1_history" class="history_span"  ></span>
								<div> </div>
							</div>
								
							<label> 
								<input type="checkbox" name="camera_item" value="2" onclick="show_estimate(this, 15,'camera_results_2');" /> 
								Europe 
							</label>
							<div class='inline'>
								<span id='camera_results_2'> </span> 
								<div id='camera_ind_2' style='display:none;visibility:hidden'> <img src='indicator_medium.gif' /></div> 
								<span id="camera_2_more_info_detailed" ></span>
								<span id="camera_2_history" class="history_span"  ></span>
								<div> </div>
							</div>
								
						</div>						
					</div>
					
					<div id='voice_conference'>
						<h4> Voice Conference: </h4>
						
						<div id="voip_locations"> 
							
							<label> 
								<input type="checkbox" name="voip_item" value="0" onclick="show_estimate(this, 60,'voip_results_0');" id='voip_us_checkbox' /> 
								US East Coast 
							</label> 
							<div class='inline'>
								<span id='voip_results_0'> </span> 
								<span id="voip_0_more_info_detailed" ></span> 
								<span id="voip_0_history" class="history_span"  ></span>								
								<div> </div>
							</div>
								
							<label> 
								<input type="checkbox" name="voip_item" value="1" onclick="show_estimate(this, 60, 'voip_results_1');" /> 
								US West Coast 
							</label> 
							<div class='inline'>
								<span id='voip_results_1'> </span> 
								<span id="voip_1_more_info_detailed"></span>
								<span id="voip_1_history" class="history_span"  ></span>								
								<div> </div>
							</div>
							
							<label> 
								<input type="checkbox" name="voip_item" value="2" onclick="show_estimate(this, 60,'voip_results_2');" /> 
								Europe 
							</label> 
							<div class='inline'>
								<span id='voip_results_2'> </span> 
								<span id="voip_2_more_info_detailed"></span> 
								<span id="voip_2_history" class="history_span"  ></span>
								<div> </div>
							</div>	
						</div>			
					</div>
										
				</td> </tr>
				<tr>
					<td colspan='2' class='centered'>
							
						<hr >	
						<div style='padding-top: 10px; padding-bottom: 10px;'>							
							<table align='center' style='text-align:center;'>
							<tr>
								<td>
									<input type="button" style='font-weight: bold;' id="measurements_button" value="Perform All Measurements" onclick="change_tab('Results'); scroll(0, 0); get_all_information(false);" />
								</td>
								<td>
									<input type="button" value="See Results for All Users with Same Connection Settings" onclick="get_user_stats('similar');" />
								</td>
							</tr>
							<tr>
								<td>
									
								</td>
								<td>
									(tests will continue to run)
								</td>
							</tr>
							</table>
							<div id='total_estimated_time' style='padding-top: 10px; padding-bottom: 10px;'> Total estimated time: 00:00 </div>
							
							Leave browser window open to repeat measurements every 
							<select id='repeat_interval' onchange='change_interval(this);'>
								<option value='2'> 2 </option>
								<option value='5' selected> 5 </option>
								<option value='10'> 10 </option>
							</select>
							minutes for history of performance
							<br />
							<div id='survey_1_feedback_sent' style='display:none;'> Answers sent </div>
						</div>					
						<div style="display:none; visibility: hidden;">
							<input type="button" id="stop_button" value="Stop Measurements" onclick="stop_measurements();" />
						</div>
						<hr />									
					</td>
				</tr>				
				<tr> <td colspan=2>				
				<div id="survey_2" align='left'>
				    In terms of future work, are you interested in the performance of any of the other applications below? <br /> <br />
					<label> <input type="checkbox" name="additional_activity" value="audio" /> Music Streaming (ex. Pandora) </label> <br />
					<label> <input type="checkbox" name="additional_activity" value="video" /> Video Streaming (ex. YouTube) </label> <br />
					<label> <input type="checkbox" name="additional_activity" value="live_video" /> Live Video Streaming (ex. ESPN)</label> <br />
					<label> <input type="checkbox" name="additional_activity" value="live_audio" /> Internet Radio (ex. BBC)</label> <br />
					<label> <input type="checkbox" name="additional_activity" value="search_engine" /> Search Engines(ex. Google)  </label> <br />
					<label> <input type="checkbox" name="additional_activity" value="p2p" /> P2P File Sharing (ex. BitTorrent) </label> <br />
					<label> <input type="checkbox" name="additional_activity" value="other" onclick="show_hide_other_activity_box(this);" /> Other </label>
					<input type="text" id="other_activity" disabled />
					
					<br /><br />
					Please provide written feedback about anything else you would like to share with us about the site:					
					<br />
					<textarea id = "survey_2_comment" rows="5" style='resize: none; width: 100%;' ></textarea>
					<br />
					<div class='centered' >
						<input type="button" id="reset_survey" value="Clear" onclick='reset_additional_activities_and_comment();' />
						<input type="button" id="send_feedback" value="Send List of Other Applications and Written Feedback" onclick="send_feedback('survey_2');" />
						<div id='survey_2_feedback_sent' style='display:none;'> Answers sent </div>
					</div>
				</div></td></tr>
				
				</table>
				
				
				<!--<input type="button" id="dd" value="Tests" onclick="get_output();" /> -->
				
				<br /> 
			</div>
		</div>
	  </p>
	  
     </div>
	 
	  <!-- 'Games' Tab -->
	 <div class="tabbertab">
		<h2>Games</h2>
		<p>
			<div class="entire_page">
				<div align='center'>
					<h4>Games</h4>
					<hr />
				</div>
					<table align="center" border="2px" cellpadding="3px" cellspacing="3px">
						<tr>
							<td width="33%">
								<div align="center">
									<img src="images/sliding_block_puzzle.jpg" style="height:272px;"></img>
									<p>Sliding Block Puzzle</p>
								</div>
							</td>
							<td width="33%">
								<div align="center">
									<img src="images/mine_sweeper.png" style="height:272px;"></img>
									<p>Minesweeper</p>
								</div>
							</td>
							<td width="33%">
								<div align="center">
									<img src="images/tetris.png" style="height:272px;"></img>
									<p>Tetris</p>
								</div>
							</td>
						</tr>
					</table>
			</div>
		</p>
	 </div>
	 
	 <!-- 'Videos' Tab -->
	 <div class="tabbertab">
		<h2>Videos</h2>
		<p>
			<div class="entire_page">
				<div align='center'>
					<h4>Videos</h4>
					<hr />
				</div>
				<p align='center'>
					Videos go here
				</p>
			</div>
		</p>
	 </div>

	  <!-- 'Results' Tab -->
	 <div class="tabbertab">
		<h2>Results</h2>
		<p>
			<div class="entire_page">
				<div align='center'>
					<h4>Results</h4>
					<hr />
				</div>
				<table align="center" border="1px" cellpadding="5px">
					<tr>
						<td>
							CNN
						</td>
						<td>
							<div class='inline'> 
								<span id="cnn_results"> </span>
								<span id="cnn_more_info_detailed"  ></span>
								<span id="cnn_history" class="history_span" ></span>
								<div> </div>
							</div>
						</td>
					</tr>
					<tr>
					<td>
					Lost Angeles Times
					</td>
						<td>
							<div class='inline'>
								<span id="la_results"> </span>
								<span id="la_more_info_detailed"  ></span>
								<span id="la_history" class="history_span" ></span>
								<div> </div>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</p>
	 </div>
	
	<!-- Apps Tab -->
	<div class="tabbertab">
		<h2>Apps</h2>
		<p>
			<div class="entire_page">
				<div align='center'>
					<h4>Apps</h4>
					<hr />
				</div>
					<table align="center" border="2px" cellpadding="3px" cellspacing="3px">
						<tr>
							<td width="50%">
								<div align="center">
									<a href="https://play.google.com/store/apps/details?id=com.mhuang.overclocking&feature=top-paid#?t=W251bGwsMSwxLDIwNiwiY29tLm1odWFuZy5vdmVyY2xvY2tpbmciXQ..">
										<img src="images/nexus4.png" style="height:272px;"></img>
										<p>Android</p>
									</a>
								</div>
							</td>
							<td width="50%">
								<div align="center">
									<a href="https://itunes.apple.com/us/app/find-my-iphone/id376101648?mt=8">
										<img src="images/iphone.jpg" style="height:272px;"></img>
										<p>iPhone</p>
									</a>
								</div>
							</td>
						</tr>
					</table>
			</div>
		</p>
	 </div>
	 
	 <!-- 'About' Tab -->
     <div class="tabbertab">
	  <h2>About</h2>
	  <p> 
		<div class="entire_page"> 
			<tr> 
				<td>
					<div align='center'>
						<h4>About</h4>
					</div>
					<hr />
					<p> 
						There are four basic network measurements that can be obtained using the Web Browser: 
						<ul>
							<li> Round-trip time (RTT) </li>
							<li> Download throughput </li>
							<li> Upload throughput </li>
							<li> Jitter </li>
						</ul>
						
					</p>
					<p>
						Methods used to obtain these measurements are:
						<ul>
							<li> JavaScript DOM </li>
							<li> JavaScript XMLHTTPRequest (XHR) </li>							
						</ul>
					</p>
					<p>
						JavaScript DOM
						<ul>
							<li> Can be used for <b> arbitrary server </b> measurements RTT and download throughput</li>
							<li> Load object into &lt;iframe&gt; tag and measure the time it took</li>
							<li> Download throughput is calculated as a ratio between this time and object size </li>
							<li> RTT is the time to download small object that fits into one TCP frame </li>							
						</ul>
						JavaScript XHR
						<ul>
							<li> Can be used for <b>origin server only </b> </li>
							<li> Can be used for measuring RTT, download throughput and upload throughput </li>
							<li> Execute GET or POST request to download data from server or upload to it </li>
							<li> Download/upload throughput is calculated as a ratio between the time it took and object size </li>
							<li> RTT is the time to download small object that fits into one TCP frame </li>							
						</ul>
						Activites we estimate performance for:
						<ul>
							<li> Site activities (news, social networks and shopping sites)
								<ul>
									<li> Download container page multiple times </li>
									<li> Download average size object multiple times using parallel connections </li>
									<li> Combine this information and calculate the time it takes to download site front page </li>
									<li> 5 star performance is if less than 5 seconds, one star is lost each 5 seconds more </li>
								</ul>
							</li>
							<li> File Hosting Services
								<ul>
									<li> Measure download and upload speed to the origin server </li>
									<li> Measure download speed to the closest Akamai server </li>
									<li> Calculate Akamai server upload speed by multiplying download speed with ratio between origin upload and download speed </li>
									<li> Akamai download speed needs to be larger than 2000 KB/s and upload speed need to be larger than 500 KB/s for 5 star rating </li>
									<li> Download larger than 1000 KB/s, upload larger than 250 KB/s: 4 stars </li>
									<li> Download larger than 500 KB/s, upload larger than 125 KB/s: 3 stars </li>
									<li> Download larger than 100 KB/s, upload larger than 62 KB/s: 2 stars </li>
									<li> Otherwise: 1 star </li>
								</ul>
							</li>
							<li> Games
								<ul>
									<li> Measure RTT to the server in the chosen area or closest server for first person games </li>
									<li> Performance is considered below 60% if less than 104 ms for first person games, 740 ms for third person games and 2000 ms for omnipresent games</li>
									<li> Otherwise performance is calculated as 60 + 40 * (RTT_limit - RTT) / RTT_limit   </li>
								</ul>
							</li>							
							<li> Video Only Conference
								<ul>
									<li> Measure download and upload speed to the origin server </li>
									<li> Measure download speed to the closest Akamai server </li>
									<li> Calculate Akamai server upload speed by multiplying download speed with ratio between origin upload and download speed </li>
									<li> Both Akamai download and upload speed need to be larger than 187 KB/s for 5 star rating </li>
									<li> Cutoffs for other ratings are 150 KB/s, 50 KB/s and 16 KB/s </li>
								</ul>
							</li>
							<li> Voice conference
								<ul>
									<li> Measure RTT to 5 servers in the area multiple times </li>
									<li> Calculate loss for each as percent of RTTs that are at least 3 times larger than the median </li>
									<li> Calculate E-model mean opinion scores based on RTT and loss </li>
									<li> 5 star performance is if median of 5 is at least 4.34 </li>
									<li> Cutoffs for other ratings are 4.03, 3.60 and 3.10 </li>
								</ul>
							</li>							
						</ul>
					</p>
					
					<br />	
					<div align='center'>
						<p>
							<a onclick="change_tab('Tests'); scroll(0, 0);" > Go to tests page </a>
						</p>
					</div>
					<br />
					
					
				</td>
			</tr>
		</div>
	  </p>
     </div>

	 <!-- 'User History' Tab -->
	 <div class="tabbertab">
		<h2>All Users History</h2>
		<br />
		<input type='button' value='Get Data for All Users with Connection Information Below' onclick="get_user_stats('all');" />
		<input type='button' value = 'Go to Tests Tab' onclick="change_tab('Tests'); scroll(0, 0);" />
		<span id='all_stat_loading_indicator' style="display:none;"> <img src='indicator_medium.gif' />  </span> <br />	<br />
		<div id='stat_survey'>
			<table class='survey_table'>
				<tr>
					<td>
						Internet connection:
					</td>
					<td>
						<label> <input type="radio" name="type" value="dial_up" /> Dial-up </label>
						<label> <input type="radio" name="type" value="dsl" /> DSL </label>
						<label> <input type="radio" name="type" value="cable" /> Cable </label>
						<label> <input type="radio" name="type" value="fiber" /> Fiber </label>
						<label> <input type="radio" name="type" value="business" /> Business </label>
						<label> <input type="radio" name="type" value="unknown" checked /> All </label>
					</td>	
				</tr>
				<tr>
					<td>
						Internet access:
					</td>
					<td>
						<label> <input type="radio" name="access" value="wireless" /> Wireless </label>
						<label> <input type="radio" name="access" value="wired" /> Wired	</label>
						<label> <input type="radio" name="access" value="unknown" checked /> All </label>
					</td>
				</tr>
				<tr>
					<td>
						Internet location:
					</td>
					<td>
						<label> <input type="radio" name="location" value="home" /> Home </label>
						<label> <input type="radio" name="location" value="work" /> Work </label>	
						<label> <input type="radio" name="location" value="school" /> School </label>
						<label> <input type="radio" name="location" value="public" /> Public location </label>
						<label> <input type="radio" name="location" value="unknown" checked /> All </label>
					</td>	
				</tr>
			</table>			
		</div>
		<br />
		<div id="all_user_stats">
			
		</div>
		
	 </div>
	
	 <!-- 'Similar History' Tab -->
	 <div class="tabbertab">
		<h2>Similar Users History</h2>
		<br />
		<div id="similar_user_stats">
			<div class='centered'> 
				Select the activities on test page and then click "See Results for All Users with Same Connection Settings" 
				<br />
				<input type='button' value = 'Go to Tests Tab' onclick="change_tab('Tests'); scroll(0, 0);" />
			</div>
		</div>
		
		<span id='all_stat_loading_indicator' style="display:none;"> <img src='indicator_medium.gif' />  </span> <br />	<br />
		
	</div>
</div>

<div class='footer'></div>
<div style="display:none;" ><img src='indicator_medium.gif' id='indicator_image' /> </div>
</body>
</html>
